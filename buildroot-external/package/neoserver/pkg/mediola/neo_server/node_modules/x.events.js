function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;},_typeof(o);}var Logger=require("x.logger.js"),x=x||{};x.EventEmitter=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||x.EventEmitter.defaultMaxListeners;},x.EventEmitter._logger=Logger.getLogger("x.EventEmitter"),x.EventEmitter.defaultMaxListeners=10,x.EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError("n must be a positive number");this._maxListeners=e;},x.EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||"object"==_typeof(this._events.error)&&!this._events.error.length))throw(t=arguments[1])instanceof Error?t:new TypeError('Uncaught, unspecified "error" event.');if(void 0===(n=this._events[e]))return!1;if("function"==typeof n)switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;r<s;r++)i[r-1]=arguments[r];n.apply(this,i);}else if("object"==_typeof(n)){for(s=arguments.length,i=new Array(s-1),r=1;r<s;r++)i[r-1]=arguments[r];for(s=(o=n.slice()).length,r=0;r<s;r++)o[r].apply(this,i);}return!0;},x.EventEmitter.prototype.addListener=function(e,t){var n;if("function"!=typeof t)throw new TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,"function"==typeof t.listener?t.listener:t),this._events[e]?"object"==_typeof(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,"object"!=_typeof(this._events[e])||this._events[e].warned||(n=this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,x.EventEmitter._logger.log("warn",new Error("(node) warning: possible EventEmitter memory leak detected. "+this._events[e].length+" listeners added. Use emitter.setMaxListeners() to increase limit.").stack)),this;},x.EventEmitter.prototype.on=x.EventEmitter.prototype.addListener,x.EventEmitter.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError("listener must be a function");var n=!1;function s(){this.removeListener(e,s),n||(n=!0,t.apply(this,arguments));}return s.listener=t,this.on(e,s),this;},x.EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if("function"!=typeof t)throw new TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,s=-1,n===t||"function"==typeof n.listener&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if("object"==_typeof(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break;}if(s<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t);}return this;},x.EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this;}if("function"==typeof(n=this._events[e]))this.removeListener(e,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this;},x.EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?"function"==typeof this._events[e]?[this._events[e]]:this._events[e].slice():[];},x.EventEmitter.listenerCount=function(e,t){return e._events&&e._events[t]?"function"==typeof e._events[t]?1:e._events[t].length:0;},exports&&(exports.EventEmitter=x.EventEmitter);