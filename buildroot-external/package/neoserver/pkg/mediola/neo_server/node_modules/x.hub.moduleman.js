var x=x||{};x.hub=x.hub||{};x.hub.moduleman=x.hub.moduleman||{};x.hub.moduleman.Modules="gateway hm siegenia netatmo harmony hue cams enoceanip heos nanoleaf".split(" ");
x.hub.moduleman.ModuleManager=function(){var a=function(){this._logger=require("x.logger.js").getLogger("x.hub.taskman.Handler");this._sys={}};a.prototype.init=function(b,a){this._logger.log("info","init module manager: hub modules");b||(b=x.hub.moduleman.Modules);var c=this;b.forEach(function(b){if(b){var a=require("x.hub.m."+b+".js");if(a&&a.getSystems){var d=a.getSystems();d&&(d.forEach(function(a){a&&c.registerSys(a,b)}),a.init&&a.init())}}})};a.prototype.initModules=function(a,c){this._logger.log("info",
"init module manager: normal modules");var b=require("m.aio.modulemanager.js"),e=require("m.aio.devicemanager.js");b.initWithModule(e,a,c)};a.prototype.registerSys=function(a,c){this._sys[a]=c};a.prototype.getModule=function(a){return(a=this._sys[a])?require("x.hub.m."+a+".js"):null};return a}();x.hub.moduleman.Handler=function(){this.modulemanager=new x.hub.moduleman.ModuleManager};x.hub.moduleman.Handler.prototype.Modules=x.hub.moduleman.Modules;x.hub.moduleman.Handler.prototype.ModuleManager=x.hub.moduleman.ModuleManager;
x.hub.moduleman.Handler.prototype.init=function(a,b){this.modulemanager.init(a,b)};x.hub.moduleman.Handler.prototype.initModules=function(a,b){this.modulemanager.initModules(a,b)};module.exports=new x.hub.moduleman.Handler;
