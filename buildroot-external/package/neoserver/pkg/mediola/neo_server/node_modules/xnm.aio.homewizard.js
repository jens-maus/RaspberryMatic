var xnm=xnm||{};xnm.aio=xnm.aio||{},xnm.aio.homewizard=xnm.aio.homewizard||{},xnm.aio.homewizard.HomeWizard=function(e,t,a){this._logger=require("x.logger.js").getLogger("xnm.aio.homewizard.HomeWizard"),this.ip=e,this.port=t,t||(this.port=80),this.password=a,this.CommandHandler=null;},xnm.aio.homewizard.HomeWizard.prototype._doRequest=function(e,t){var a=this,n="http://"+this.ip+":"+this.port+"/"+this.password+"/"+e;this._logger.log("trace","send to url: http://"+this.ip+":"+this.port+"/xxxxxx/"+e);var o=t;$.ajax({url:n,type:"GET",timeout:1e4,dataType:"json",success:function success(e){a._logger.log("trace","http request success:"+JSON.stringify(e)),o&&(o(null,e),o=null);},error:function error(e,t){var n="http request error:"+(e?e.status:"0")+"-"+t;a._logger.log("trace",n),o&&(o(new Error(n)),o=null);}});},xnm.aio.homewizard.HomeWizard.prototype._sendRequest=function(e,t){this._doRequest(e,function(e,a){if(!e&&a&&a.response&&"ok"==a.status)return a&&a.response&&"ok"==a.status?void(t&&t(null,a.response)):(a&&a.status?(e=new Error(a.status)).errCode=a.error:e=new Error("response is empty"),void(t&&t(e)));t&&t(e);});},xnm.aio.homewizard.HomeWizard.prototype.getDevices=function(e){this._sendRequest("get-sensors",function(t,a){e&&e(t,a);});},xnm.aio.homewizard.HomeWizard.prototype._resolveState=function(e,t){if(!e||!e.type||!t||void 0===e.address||null==e.address)return null;var a,n,o=null;switch(e.type){case"switch":case"proswitch":case"dimmer":case"prodimmer":case"radiator":case"asun":case"somfy":a="switches";break;case"wind":a="windmeters";break;case"rain":a="rainmeters";break;case"thermo":a="thermometers";break;case"doorbell":case"smoke":case"contact":case"motion":case"smoke868":a="kakusensors";break;case"energylink":a="energylinks";break;default:return null;}if(t[a])for(var r=0;r<t[a].length;r++)if(t[a][r]&&e.address+""==t[a][r].id+""){n=t[a][r];break;}if(n)switch(o={},e.type){case"switch":case"proswitch":case"dimmer":case"prodimmer":case"radiator":case"asun":case"somfy":void 0!==n.status&&null!=n.status&&(o.status=n.status),void 0!==n.dimlevel&&null!=n.dimlevel&&(o.dimlevel=n.dimlevel),void 0!==n.tte&&null!=n.tte&&(o.status=n.tte,o.tte=n.tte),void 0!==n.color&&null!=n.color&&(o.dimlevel=n.color.bri?n.color.bri:0);break;case"wind":if(o.windLowBat="no"!=n.lowBattery,o.windS=n.ws,n.dir&&-1!=n.dir.indexOf(" ")){var s=n.dir.split(" ");o.windD=parseInt(s[1].trim()),o.windDS=s[0].trim();}o.windGS=n.gu,o.windT=n.wc,o.windSMax=n["ws+"],o.windSMaxT=n["ws+t"],o.windSMin=n["ws-"],o.windSMinT=n["ws-t"];break;case"rain":o.rainLowBat="no"!=n.lowBattery,o.rainL=n.mm,o.rainL3h=n["3h"];break;case"thermo":o.thermoLowBat="no"!=n.lowBattery,o.thermoT=n.te,o.thermoH=n.hu,o.thermoTMax=n["te+"],o.thermoTMaxT=n["te+t"],o.thermoTMin=n["te-"],o.thermoTMinT=n["te-t"],o.thermoHMax=n["hu+"],o.thermoHMaxT=n["hu+t"],o.thermoHMin=n["hu-"],o.thermoHMinT=n["hu-t"];break;case"doorbell":o.doorbellE=n.status?"ring":"none",o.doorbellET=n.timestamp;break;case"smoke":case"smoke868":o.smokeE=n.status?"alarm":"ok",o.smokeET=n.timestamp;break;case"motion":o.motionE=n.status&&"no"!=n.status?"on":"off",o.motionET=n.timestamp;break;case"contact":o.contactE=n.status?"open":"closed",o.contactET=n.timestamp;break;case"energylink":n.s1&&(o.s1Value=n.s1.po,o.s1TotalD=n.s1.dayTotal,o.s1Max=n.s1["po+"],o.s1MaxT=n.s1["po+t"],o.s1Min=n.s1["po-"],o.s1MinT=n.s1["po-t"]),n.s2&&(o.s2Value=n.s2.po,o.s2TotalD=n.s2.dayTotal,o.s2Max=n.s2["po+"],o.s2MaxT=n.s2["po+t"],o.s2Min=n.s2["po-"],o.s2MinT=n.s2["po-t"]);}return o;},xnm.aio.homewizard.HomeWizard.prototype.executeCommand=function(e,t,a){var n=null,o=!0;if("on"==t)"switch"==e.type||"dimmer"==e.type||"radiator"==e.type||"proswitch"==e.type||"prodimmer"==e.type?n="sw/"+e.address+"/on":"scene"==e.type&&(n="gp/"+e.address+"/on");else if("off"==t)"switch"==e.type||"dimmer"==e.type||"radiator"==e.type||"proswitch"==e.type||"prodimmer"==e.type?n="sw/"+e.address+"/off":"scene"==e.type&&(n="gp/"+e.address+"/off");else if("toggle"==t){if("switch"==e.type||"dimmer"==e.type||"proswitch"==e.type||"prodimmer"==e.type){var r=this;this.getStates(null,[e],function(t,o){n="sw/"+e.address+"/off",1==o.length&&o[0].state&&"off"==o[0].state.status&&(n="sw/"+e.address+"/on"),r._sendRequest(n,function(e){a&&a(e);});}),o=!1;}}else"up"==t?"somfy"==e.type?n="sf/"+e.address+"/up":"asun"!=e.type&&"brel"!=e.type||(n="sw/"+e.address+"/up"):"down"==t?"somfy"==e.type?n="sf/"+e.address+"/down":"asun"!=e.type&&"brel"!=e.type||(n="sw/"+e.address+"/down"):"stop"==t?"somfy"==e.type?n="sf/"+e.address+"/stop":"brel"==e.type&&(n="sw/"+e.address+"/stop"):(0==t.indexOf("dimTo")&&(t=t.replace(/dimTo/g,"")),0==t.indexOf("setTo")&&(t=t.replace(/setTo/g,"")),t=t.replace(/%/g,""),"dimmer"==e.type?n="sw/dim/"+e.address+"/"+t:"radiator"==e.type&&(n="sw/"+e.address+"/settarget/"+t));!o||n?o&&n&&this._sendRequest(n,function(e){a&&a(e);}):a&&a(new Error("no such command"));},xnm.aio.homewizard.HomeWizard.prototype.getStates=function(e,t,a){var n=this;this.CommandHandler=e,this._sendRequest("get-sensors",function(e,o){if(e)a&&a(e,t);else{for(var r=0;r<t.length;r++){var s=n._resolveState(t[r],o);s&&(t[r].state=s);}a&&a(null,t);}});},xnm.aio.homewizard.HomeWizard.prototype.getStateValues=function(e,t){return t;},xnm.aio.homewizard.HomeWizard.prototype.executeCommandCreator=function(e,t,a){if(t&&t.value){var n=t.value;if("dimTo"==t.value){if(void 0===t.ext||null==t.ext)return void(a&&a(new Error("command dimTo ext format invalid")));n=t.value+t.ext;}else if("setTo"==t.value){if(void 0===t.ext||null==t.ext)return void(a&&a(new Error("command setTo ext format invalid")));n=t.value+t.ext;}this.executeCommand(e,n,function(e){a&&a(e);});}else a&&a(new Error("command json format invalid"));},xnm.aio.homewizard.HomeWizard.prototype.getStatesCreator=function(e,t,a){if(t){if(0!=t.length){for(var n=[],o=0;o<t.length;o++)if(t[o]&&t[o].device){var r=JSON.parse(JSON.stringify(t[o].device));n.push(r);}this.getStates(e,n,function(e,n){for(var o=[],r=0;r<t.length;r++)if(t[r].id){var s="?";t[r].status&&t[r].status.value&&n&&n[r]&&n[r].state&&(void 0!==(s=n[r].state[t[r].status.value])&&null!=s||(s="?")),o.push({id:t[r].id,status:s});}a&&a(e,o);});}else a&&a(null,[]);}else a&&a(new Error("deviceList is null"));},xnm.aio.homewizard.HomeWizard.prototype.toJSON=function(){return{sys:xnm.aio.homewizard.DM.SYS,ip:this.ip,port:this.port,password:this.password};},xnm.aio.homewizard.HomeWizard.prototype.equalsTo=function(e){return!!e&&e instanceof xnm.aio.homewizard.HomeWizard&&this.ip==e.ip&&this.port==e.port&&this.password==e.password;},xnm.aio.homewizard.DM=function(){var e=function e(_e,t){this.code=_e,this.message=t,this.stack=new Error().stack;};return(e.prototype=new Error()).name="HomewizardDMError",e.prototype.code=0,e.ERROR_CODE={DEFAULT:0,INDEX_EXISTS:1,ID_EXISTS:2,INVALID:3,UNKNOW:4,NOT_FOUND:5,IP_EXISTS:6},{SYS:"homewizard",MAP:{"switch":{command:[{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"on",ref:{value:"on"}},{type:"enum",name:"toggle",ref:{value:"toggle"}}],status:[{type:"enum",name:"status",ref:{value:"status",options:["on","off"]}}]},proswitch:{command:[{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"on",ref:{value:"on"}},{type:"enum",name:"toggle",ref:{value:"toggle"}}],status:[{type:"enum",name:"status",ref:{value:"status",options:["on","off"]}}]},dimmer:{command:[{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"on",ref:{value:"on"}},{type:"enum",name:"toggle",ref:{value:"toggle"}},{type:"int",name:"dim to",ref:{value:"dimTo",ext:"%d",extMeta:"0-100"}}],status:[{type:"enum",name:"status",ref:{value:"status",options:["on","off"]}},{type:"int",name:"dim level",ref:{value:"dimlevel",extMeta:"0-100"}}]},prodimmer:{command:[{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"on",ref:{value:"on"}},{type:"enum",name:"toggle",ref:{value:"toggle"}},{type:"int",name:"dim to",ref:{value:"dimTo",ext:"%d",extMeta:"0-100"}}],status:[{type:"enum",name:"status",ref:{value:"status",options:["on","off"]}},{type:"int",name:"dim level",ref:{value:"dimlevel",extMeta:"0-100"}}]},radiator:{command:[{type:"enum",name:"night mode",ref:{value:"off"}},{type:"enum",name:"day mode",ref:{value:"on"}},{type:"float",name:"temperature",ref:{value:"setTo",ext:"%f",extMeta:"5.0-28.0",scale:"0.5"}}],status:[{type:"float",name:"temperature",ref:{value:"status",extMeta:"5.0-28.0",scale:"0.5"}}]},somfy:{command:[{type:"enum",name:"up",ref:{value:"up"}},{type:"enum",name:"down",ref:{value:"down"}},{type:"enum",name:"stop",ref:{value:"stop"}}]},asun:{command:[{type:"enum",name:"up",ref:{value:"up"}},{type:"enum",name:"down",ref:{value:"down"}}]},brel:{command:[{type:"enum",name:"up",ref:{value:"up"}},{type:"enum",name:"down",ref:{value:"down"}},{type:"enum",name:"stop",ref:{value:"stop"}}]},scene:{command:[{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"on",ref:{value:"on"}}]},wind:{status:[{type:"enum",name:"battery low",ref:{value:"windLowBat",options:["true","false"]}},{type:"float",name:"wind speed",ref:{value:"windS"}},{type:"int",name:"wind direction",ref:{value:"windD"}},{type:"string",name:"wind direction (string)",ref:{value:"windDS"}},{type:"float",name:"gust speed",ref:{value:"windGS"}},{type:"float",name:"wind temperature",ref:{value:"windT"}},{type:"float",name:"max wind speed",ref:{value:"windSMax"}},{type:"string",name:"max wind speed time",ref:{value:"windSMaxT"}},{type:"float",name:"min wind speed",ref:{value:"windSMin"}},{type:"string",name:"min wind speed time",ref:{value:"windSMinT"}}]},rain:{status:[{type:"enum",name:"battery low",ref:{value:"rainLowBat",options:["true","false"]}},{type:"int",name:"rain level",ref:{value:"rainL"}},{type:"int",name:"rain level (3h)",ref:{value:"rainL3h"}}]},thermo:{status:[{type:"enum",name:"battery low",ref:{value:"thermoLowBat",options:["true","false"]}},{type:"float",name:"temperature",ref:{value:"thermoT"}},{type:"float",name:"humidity",ref:{value:"thermoH"}},{type:"float",name:"max temperature",ref:{value:"thermoTMax"}},{type:"string",name:"max temperature time",ref:{value:"thermoTMaxT"}},{type:"float",name:"min temperature",ref:{value:"thermoTMin"}},{type:"string",name:"min temperature time",ref:{value:"thermoTMinT"}},{type:"float",name:"max humidity",ref:{value:"thermoHMax"}},{type:"string",name:"max humidity time",ref:{value:"thermoHMaxT"}},{type:"float",name:"min humidity",ref:{value:"thermoHMin"}},{type:"string",name:"min humidity time",ref:{value:"thermoHMinT"}}]},doorbell:{status:[{type:"enum",name:"last event",ref:{value:"doorbellE",options:["none","ring"]}},{type:"string",name:"last event time",ref:{value:"doorbellET"}}]},smoke:{status:[{type:"enum",name:"last event",ref:{value:"smokeE",options:["ok","alarm"]}},{type:"string",name:"last event time",ref:{value:"smokeET"}}]},motion:{status:[{type:"enum",name:"last event",ref:{value:"motionE",options:["on","off"]}},{type:"string",name:"last event time",ref:{value:"motionET"}}]},contact:{status:[{type:"enum",name:"last event",ref:{value:"contactE",options:["open","closed"]}},{type:"string",name:"last event time",ref:{value:"contactET"}}]},energylink:{status:[{type:"float",name:"s1 value",ref:{value:"s1Value"}},{type:"float",name:"s1 daily total",ref:{value:"s1TotalD"}},{type:"float",name:"max s1 value",ref:{value:"s1Max"}},{type:"string",name:"max s1 value time",ref:{value:"s1MaxT"}},{type:"float",name:"min s1 value",ref:{value:"s1Min"}},{type:"string",name:"min s1 value time",ref:{value:"s1MinT"}},{type:"float",name:"s2 value",ref:{value:"s2Value"}},{type:"float",name:"s2 daily total",ref:{value:"s2TotalD"}},{type:"float",name:"max s2 value",ref:{value:"s2Max"}},{type:"string",name:"max s2 value time",ref:{value:"s2MaxT"}},{type:"float",name:"min s2 value",ref:{value:"s2Min"}},{type:"string",name:"min s2 value time",ref:{value:"s2MinT"}}]},smoke868:{status:[{type:"enum",name:"last event",ref:{value:"smokeE",options:["ok","alarm"]}},{type:"string",name:"last event time",ref:{value:"smokeET"}}]}},getGatewayType:function getGatewayType(){return[{sys:this.SYS,name:"HomeWizard",port:80}];},getGatewayDeviceType:function getGatewayDeviceType(){return[{sys:this.SYS,type:"switch",name:"Switch"},{sys:this.SYS,type:"dimmer",name:"Dimmer"},{sys:this.SYS,type:"proswitch",name:"Switch"},{sys:this.SYS,type:"prodimmer",name:"Dimmer"},{sys:this.SYS,type:"radiator",name:"Thermostat"},{sys:this.SYS,type:"somfy",name:"Somfy Blind"},{sys:this.SYS,type:"asun",name:"ASUN Blind"}];},createGateway:function createGateway(t,a,n){var o=e,r=e.ERROR_CODE;t?t.ip?t.password?n(null,t):n(new o(r.INVALID,"password is invalid")):n(new o(r.INVALID,"ip is invalid")):n(new o(r.INVALID,"info is invalid"));},updateGateway:function updateGateway(t,a,n,o){var r=e,s=e.ERROR_CODE;a?a.ip?a.password?o(null,a):o(new r(s.INVALID,"password is invalid")):o(new r(s.INVALID,"ip is invalid")):o(new r(s.INVALID,"update is invalid"));},deleteGateway:function deleteGateway(e,t,a){a();},createDevice:function createDevice(t,a,n){var o=e,r=e.ERROR_CODE;if(t){if(t.gateway){if(null!=t.address&&void 0!==t.address){if(null!=t.type&&void 0!==t.type){if(a.data&&a.data.gateways&&0!==a.data.gateways.length){var s,i,m=a.data.gateways;for(s=0;s<m.length;s++)if(m[s].index===t.gateway){i=m[s];break;}i?n(null,t):n(new o(r.NOT_FOUND,"gateway with index "+t.gateway+" not exists"));}else n(new o(r.NOT_FOUND,"gateway with index "+t.gateway+" not exists"));}else n(new o(r.INVALID,"type is invalid"));}else n(new o(r.INVALID,"address is invalid"));}else n(new o(r.INVALID,"gateway is invalid"));}else n(new o(r.INVALID,"info is invalid"));},updateDevice:function updateDevice(t,a,n){var o=e,r=e.ERROR_CODE;if(t){if(t.gateway){if(null!=t.address&&void 0!==t.address){if(null!=t.type&&void 0!==t.type){if(a.data&&a.data.gateways&&0!==a.data.gateways.length){var s,i,m=a.data.gateways;for(s=0;s<m.length;s++)if(m[s].index===t.gateway){i=m[s];break;}i?n(null,t):n(new o(r.NOT_FOUND,"gateway with index "+t.gateway+" not exists"));}else n(new o(r.NOT_FOUND,"gateway with index "+t.gateway+" not exists"));}else n(new o(r.INVALID,"type is invalid"));}else n(new o(r.INVALID,"address is invalid"));}else n(new o(r.INVALID,"gateway is invalid"));}else n(new o(r.INVALID,"info is invalid"));},deleteDevice:function deleteDevice(e,t,a){a();},applyUIFilter:function applyUIFilter(e,t){var a=this,n=function n(e,t){if("*"==e)return!0;for(var a=!1,n=0;n<e.length;n++)if(e[n]==t){a=!0;break;}return a;},o=function o(e,t){var o=[],r=null,s=a.getCommandStatusMap(e);return s&&(r=function(e,t,a){var o=[];switch(a.catagory){case"command":e.command&&e.command.forEach(function(e){if(n(a.elems,e.type)){var t=JSON.parse(JSON.stringify(e));o.push(t);}});break;case"status":e.status&&e.status.forEach(function(e){if(n(a.elems,e.type)){var t=JSON.parse(JSON.stringify(e));o.push(t);}});}return o;}(s,0,t),o=o.concat(r)),o;};if(!e||null==e.type||void 0===e.type)return null;var r=JSON.parse(JSON.stringify(e)),s=null;switch(t.catagory){case"command":s=o(e,t),r.command=s;break;case"status":s=o(e,t),r.status=s;break;default:return null;}return s&&0!=s.length?r:null;},getCommandStatusMap:function getCommandStatusMap(e){return e&&e.type?this.MAP[e.type]:null;}};}(),xnm.aio.homewizard.Handler=function(){this._logger=require("x.logger.js").getLogger("xnm.aio.homewizard.Handler"),this.detectedHomeWizards={};},xnm.aio.homewizard.Handler.prototype.HomeWizard=xnm.aio.homewizard.HomeWizard,xnm.aio.homewizard.Handler.prototype.devicemanager=xnm.aio.homewizard.DM,xnm.aio.homewizard.Handler.prototype.registModule=function(e){e.register(this.devicemanager.SYS,"homewizard");},xnm.aio.homewizard.Handler.prototype.resolveGateway=function(e){return e&&e.ip&&e.password?new xnm.aio.homewizard.HomeWizard(e.ip,e.port,e.password):null;},xnm.aio.homewizard.Handler.prototype.getDeviceCommands=function(e,t){var a=xnm.aio.homewizard.DM.applyUIFilter(e,{catagory:"command",elems:"*"}),n=a?a.command:[];t&&t(null,n);},xnm.aio.homewizard.Handler.prototype.getDeviceStatus=function(e,t){var a=xnm.aio.homewizard.DM.applyUIFilter(e,{catagory:"status",elems:"*"}),n=a?a.status:[];t&&t(null,n);},xnm.aio.homewizard.Handler.prototype.doCommand=function(e,t,a,n){var o=this.resolveGateway(e);o?o.executeCommandCreator(t,a,function(e){n&&n(e);}):n&&n(new Error("gateway json format invalid"));},xnm.aio.homewizard.Handler.prototype.doStatus=function(e,t,a,n,o){var r=this.resolveGateway(t);if(r){var s=[{id:e,device:a,status:n}];r.getStatesCreator(null,s,function(e,t){e?o&&o(e):o&&o(null,t[0]);});}else o&&o(new Error("gateway json format invalid"));},xnm.aio.homewizard.Handler.prototype.getDeviceList=function(e,t){var a=this.resolveGateway(e);if(a){var n=this;a.getDevices(function(e,a){if(e)t&&t(e);else{var o=[];a&&(a.switches&&a.switches.forEach(function(e){if(e)switch(e.type){case"switch":case"proswitch":case"dimmer":case"prodimmer":case"radiator":case"somfy":case"asun":case"brel":o.push({sys:n.devicemanager.SYS,type:e.type,address:e.id,name:e.name});}}),a.scenes&&a.scenes.forEach(function(e){e&&o.push({sys:n.devicemanager.SYS,type:"scene",address:e.id,name:e.name});}),a.windmeters&&a.windmeters.forEach(function(e){e&&o.push({sys:n.devicemanager.SYS,type:"wind",address:e.id,name:e.name});}),a.rainmeters&&a.rainmeters.forEach(function(e){e&&o.push({sys:n.devicemanager.SYS,type:"rain",address:e.id,name:e.name});}),a.thermometers&&a.thermometers.forEach(function(e){e&&o.push({sys:n.devicemanager.SYS,type:"thermo",address:e.id,name:e.name});}),a.kakusensors&&a.kakusensors.forEach(function(e){e&&e.type&&("doorbell"!=e.type&&"smoke"!=e.type&&"contact"!=e.type&&"motion"!=e.type&&"smoke868"!=e.type||o.push({sys:n.devicemanager.SYS,type:e.type,address:e.id,name:e.name}));}),a.energylinks&&a.energylinks.forEach(function(e){e&&o.push({sys:n.devicemanager.SYS,type:"energylink",address:e.id,name:e.name});})),t&&t(null,o);}});}else t&&t(new Error("gateway json format invalid"));},xnm.aio.homewizard.Handler.prototype.discoverHomeWizards=function(e){var t=this;!function(e){$.ajax({url:"http://gateway.homewizard.nl/discovery.php",type:"GET",timeout:2e3,dataType:"json",success:function success(a){var n,o;t._logger.log("trace","remote search success:"+JSON.stringify(a)),a&&"ok"==a.status&&a.ip?o=a.ip:n=new Error("repsonse not ok"),e&&(e(n,o),e=null);},error:function error(a,n){var o="remote search error:"+(a?a.status:"0")+"-"+n;t._logger.log("trace",o),e&&(e(new Error(o)),e=null);}});}(function(a,n){!a&&n?function(e,a){$.ajax({url:"http://"+e,type:"GET",timeout:2e3,success:function success(e){t._logger.log("trace","local search success:"+JSON.stringify(e)),a&&(a(null),a=null);},error:function error(e,n){var o="local search error:"+(e?e.status:"0")+"-"+n;t._logger.log("trace",o),a&&(a(new Error(o)),a=null);}});}(n,function(t){t?e&&e(null,[]):e&&e(null,[new xnm.aio.homewizard.HomeWizard(n)]);}):e&&e(null,[]);});},xnm.aio.homewizard.Handler.prototype.getStateValues=function(e,t){return new xnm.aio.homewizard.HomeWizard().getStateValues(e.type,t);},xnm.aio.homewizard.Handler.prototype.getDeviceCommandList=function(e,t,a){var n=[];return t&&(n.push({id:window.XC_Text.on,cmd:"on"}),n.push({id:window.XC_Text.off,cmd:"off"})),n;},"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=new xnm.aio.homewizard.Handler());