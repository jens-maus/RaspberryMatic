--- occu/arm-gnueabihf/packages/lighttpd/etc/lighttpd/conf.d/headers.conf.orig
+++ occu/arm-gnueabihf/packages/lighttpd/etc/lighttpd/conf.d/headers.conf
@@ -0,0 +1,6 @@
+# Avoid aggressive caching of JS and CSS. Max-Age is for Firefox that ignores the must-revalidate
+$HTTP["url"] =~ "^/webui/.*\.(js)|(css).*" {
+  setenv.add-response-header += (
+    "Cache-Control" => "public, must-revalidate, max-age=30"
+  )
+}
--- occu/arm-gnueabihf/packages/lighttpd/etc/lighttpd/lighttpd.conf.orig
+++ occu/arm-gnueabihf/packages/lighttpd/etc/lighttpd/lighttpd.conf
@@ -158,6 +158,12 @@
 include "conf.d/debug.conf"
 
 ##
+## The header options are moved into their own file.
+## see conf.d/headers.conf for various options for additional response headers.
+##
+include "conf.d/headers.conf"
+
+##
 #######################################################################
 
 #######################################################################
--- occu/arm-gnueabihf/packages/lighttpd/etc/lighttpd/lighttpd_ssl.conf.orig
+++ occu/arm-gnueabihf/packages/lighttpd/etc/lighttpd/lighttpd_ssl.conf
@@ -158,6 +158,12 @@
 include "conf.d/debug.conf"
 
 ##
+## The header options are moved into their own file.
+## see conf.d/headers.conf for various options for additional response headers.
+##
+include "conf.d/headers.conf"
+
+##
 #######################################################################
 
 #######################################################################
--- occu/WebUI/www/error/error-500.html.orig
+++ occu/WebUI/www/error/error-500.html
@@ -9,10 +9,10 @@
     }
       
   </style>
-    <script type="text/javascript" src="/webui/js/extern/jquery.js?_version_=2.0pre1"></script>
-    <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js?_version_=2.0pre1"></script>
-    <script type="text/javascript" src="/webui/js/lang/loadTextResource.js"></script>
-    <script type="text/javascript" src="/webui/js/lang/translate.js"></script>
+    <script type="text/javascript" src="/webui/js/extern/jquery.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/lang/loadTextResource.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/lang/translate.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
 
     <!--
     <script type="text/javascript" src="/webui/js/lang/translate.lang.js?_version_=2.0pre1"></script>
--- occu/WebUI/www/error/error-503.html.orig
+++ occu/WebUI/www/error/error-503.html
@@ -9,10 +9,10 @@
     }
       
   </style>
-    <script type="text/javascript" src="/webui/js/extern/jquery.js?_version_=2.0pre1"></script>
-    <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js?_version_=2.0pre1"></script>
-    <script type="text/javascript" src="/webui/js/lang/loadTextResource.js"></script>
-    <script type="text/javascript" src="/webui/js/lang/translate.js"></script>
+    <script type="text/javascript" src="/webui/js/extern/jquery.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/lang/loadTextResource.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/lang/translate.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
   <script type="text/javascript">
 
     CHECK_INTERVAL = 3000;  // Intervall, in dem geprüft wird, ob der ReGa Webserver aktiv ist
--- occu/WebUI/www/rega/login.htm.orig
+++ occu/WebUI/www/rega/login.htm
@@ -2,13 +2,13 @@
 <html xmlns="http://www.w3.org/1999/xhtml">
 <head>
   
-<link rel="stylesheet" type="text/css" href="/webui/style.cgi?_version_=1.509pre1" />
-    <script type="text/javascript" src="/webui/js/extern/jquery.js"></script>
-    <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js"></script>
-    <script type="text/javascript" src="/webui/js/extern/prototype.js"></script>
+<link rel="stylesheet" type="text/css" href="/webui/style.cgi?_version_=XXX-WEBUI-VERSION-XXX" />
+    <script type="text/javascript" src="/webui/js/extern/jquery.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/extern/prototype.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
 
-    <script type="text/javascript" src="/webui/js/lang/loadTextResource.js"></script>
-    <script type="text/javascript" src="/webui/js/lang/translate.js"></script>
+    <script type="text/javascript" src="/webui/js/lang/loadTextResource.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/lang/translate.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
 
   <!--
     <script type="text/javascript" src="/webui/js/lang/translate.lang.js"></script>
@@ -194,4 +194,4 @@
 </script>
 
 </body>
-</html>
\ No newline at end of file
+</html>
--- occu/WebUI/www/rega/logout.htm.orig
+++ occu/WebUI/www/rega/logout.htm
@@ -1,13 +1,13 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
 <head>
-  <link rel="stylesheet" type="text/css" href="/webui/style.cgi?_version_=1.509pre1" />
+  <link rel="stylesheet" type="text/css" href="/webui/style.cgi?_version_=XXX-WEBUI-VERSION-XXX" />
 
-    <script type="text/javascript" src="/webui/js/extern/jquery.js"></script>
-    <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js"></script>
-    <script type="text/javascript" src="/webui/js/extern/prototype.js"></script>
-    <script type="text/javascript" src="/webui/js/lang/loadTextResource.js"></script>
-    <script type="text/javascript" src="/webui/js/lang/translate.js"></script>
+    <script type="text/javascript" src="/webui/js/extern/jquery.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/extern/prototype.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/lang/loadTextResource.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+    <script type="text/javascript" src="/webui/js/lang/translate.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
 
   <!--
     <script type="text/javascript" src="/webui/js/lang/translate.lang.js"></script>
--- occu/WebUI/www/rega/pages/index.htm.orig
+++ occu/WebUI/www/rega/pages/index.htm
@@ -15,50 +15,50 @@
   <link rel="shortcut icon" href="/ise/img/favicon.ico" type="image/vnd.microsoft.icon"/>
   <link rel="icon"          href="/ise/img/favicon.ico" type="image/vnd.microsoft.icon" />
   
-  <link rel="stylesheet" type="text/css" href="/webui/css/extern/nfs_datepicker.css" />
-  <link rel="stylesheet" type="text/css" href="/webui/css/extern/jquery.powertip.css" />
-  <link rel="stylesheet" type="text/css" href="/webui/css/extern/jquery.jqplot.css" />
-  <link rel="stylesheet" type="text/css" href="/webui/css/extern/msdropdown/dd.css" />
-  <link rel="stylesheet" type="text/css" href="/webui/css/extern/spectrum.css" />
+  <link rel="stylesheet" type="text/css" href="/webui/css/extern/nfs_datepicker.css?_version_=XXX-WEBUI-VERSION-XXX" />
+  <link rel="stylesheet" type="text/css" href="/webui/css/extern/jquery.powertip.css?_version_=XXX-WEBUI-VERSION-XXX" />
+  <link rel="stylesheet" type="text/css" href="/webui/css/extern/jquery.jqplot.css?_version_=XXX-WEBUI-VERSION-XXX" />
+  <link rel="stylesheet" type="text/css" href="/webui/css/extern/msdropdown/dd.css?_version_=XXX-WEBUI-VERSION-XXX" />
+  <link rel="stylesheet" type="text/css" href="/webui/css/extern/spectrum.css?_version_=XXX-WEBUI-VERSION-XXX" />
   <link id="idCss" rel="stylesheet" type="text/css" href="/webui/style.cgi" />
 
   <title>HomeMatic WebUI</title>
 
   
-  <script type="text/javascript" src="/webui/js/extern/jquery.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jquery.powertip.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jquery.blockUI.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jquery.form.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/prototype.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/scriptaculous.js?load=builder,effects,dragdrop,slider"></script>
-  <script type="text/javascript" src="/webui/js/extern/wz_jsgraphics.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/template.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/nfs_datepicker.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/sliderControl.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jquery.jqplot.min.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jquery.dd.min.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jqplot.barRenderer.min.js"></script>  
-  <script type="text/javascript" src="/webui/js/extern/jqplot.dateAxisRenderer.min.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jqplot.categoryAxisRenderer.min.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jqplot.canvasAxisTickRenderer.min.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jqplot.canvasTextRenderer.min.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jqplot.cursor.min.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/jqplot.enhancedLegendRenderer.min.js"></script>
-  <script type="text/javascript" src="/webui/js/lang/loadTextResource.js"></script>
-  <script type="text/javascript" src="/webui/js/lang/translate.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/knockout.js"></script>
-  <script type="text/javascript" src="/webui/js/common/viewmodels.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/json2min.js"></script>
-  <script type="text/javascript" src="/webui/js/extern/spectrum.js"></script>
+  <script type="text/javascript" src="/webui/js/extern/jquery.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jqueryURLPlugin.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jquery.powertip.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jquery.blockUI.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jquery.form.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/prototype.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/scriptaculous.js?load=builder,effects,dragdrop,slider&_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/wz_jsgraphics.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/template.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/nfs_datepicker.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/sliderControl.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jquery.jqplot.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jquery.dd.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jqplot.barRenderer.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>  
+  <script type="text/javascript" src="/webui/js/extern/jqplot.dateAxisRenderer.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jqplot.categoryAxisRenderer.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jqplot.canvasAxisTickRenderer.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jqplot.canvasTextRenderer.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jqplot.cursor.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/jqplot.enhancedLegendRenderer.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/lang/loadTextResource.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/lang/translate.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/knockout.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/common/viewmodels.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/json2min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script type="text/javascript" src="/webui/js/extern/spectrum.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
 
 
 
 
-  <link href="/webui/css/extern/smoothness/jquery-ui.min.css" rel="stylesheet" type="text/css">
-  <link href="/webui/css/extern/smoothness/jquery.ui.timepicker.css?v=0.3.2" rel="stylesheet" type="text/css" />
-  <script src="/webui/js/extern/jquery-ui.min.js"></script>
-  <script src="/webui/js/extern/jquery.ui.timepicker.js"></script>
+  <link href="/webui/css/extern/smoothness/jquery-ui.min.css?_version_=XXX-WEBUI-VERSION-XXX" rel="stylesheet" type="text/css">
+  <link href="/webui/css/extern/smoothness/jquery.ui.timepicker.css?v=0.3.2&_version_=XXX-WEBUI-VERSION-XXX" rel="stylesheet" type="text/css" />
+  <script src="/webui/js/extern/jquery-ui.min.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
+  <script src="/webui/js/extern/jquery.ui.timepicker.js?_version_=XXX-WEBUI-VERSION-XXX"></script>
   
   
   <!--[if IE 9]><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" /><![endif]-->
@@ -71,7 +71,7 @@
     /*########################################################################*/
 
     PLATFORM = "Central";
-    WEBUI_VERSION = "2.31-TRUNK";
+    WEBUI_VERSION = "XXX-WEBUI-VERSION-XXX";
   
     /**
      * Flags
@@ -178,6 +178,6 @@
       </div>
     </div>
   </div>
-  <script type="text/javascript" src="/webui/webui.js?_version_=2.0pre1" ></script>
+  <script type="text/javascript" src="/webui/webui.js?_version_=XXX-WEBUI-VERSION-XXX" ></script>
 </body>
 </html>
--- occu/WebUI/www/webui/js/lang/loadTextResource.js.orig
+++ occu/WebUI/www/webui/js/lang/loadTextResource.js
@@ -120,11 +120,12 @@
 
   jQuery.each(arResource, function(index, res){
     var request = jQuery.ajax({
-      url: url + res,
+      url: url + res + "?_version_=XXX-WEBUI-VERSION-XXX",
       type:  "GET",
       async: false,
       contentType: "application/x-www-form-urlencoded;charset=ISO-8859-1",
-      dataType: "script"
+      dataType: "script",
+      cache: true
     });
 
     request.done(function(result) {
@@ -136,4 +137,4 @@
   });
 };
 
-loadTextResource();
\ No newline at end of file
+loadTextResource();
